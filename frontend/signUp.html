<div>
    <h1>Welcome !! :D</h1>

    <h3>Sign up here</h3>

    <form id="signup-form">
        <div>
            <input type="email" id="signup-email" placeholder="Email" required />
        </div>
        <div>
            <input type="password" id="signup-password" placeholder="Password" required />
        </div>
        <div>
            <button type="submit">Sign Up</button>
        </div>
    </form>

    <div id="signup-status"></div>
</div>

<!-- Load Supabase -->
<script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2"></script>

<script>
    console.log("JS LOADED!");

    // ‚ùó DO NOT name this `supabase`
    const client = supabase.createClient(
        "https://qifukxyklmtsngopqggf.supabase.co",
        "sb-publishable-KEY-HERE"
    );

    async function signUpWithEmail(event) {
        event.preventDefault();

        const email = document.getElementById("signup-email").value;
        const password = document.getElementById("signup-password").value;

        console.log("Attempting signup with:", email);

        const { data, error } = await client.auth.signUp({
            email,
            password,
        });

        console.log("data:", data);
        console.log("error:", error);

        if (error) {
            document.getElementById("signup-status").textContent = error.message;
            return;
        }

        document.getElementById("signup-status").textContent =
            "Check your email to confirm your account.";
    }

    document
        .getElementById("signup-form")
        .addEventListener("submit", signUpWithEmail);
</script>
